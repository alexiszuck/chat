{"id":"+TuV","dependencies":[{"name":"/home/ubuntu/workspace/chat/package.json","includedInParent":true,"mtime":1541506903744},{"name":"@pusher/chatkit-client","loc":{"line":1,"column":43},"parent":"/home/ubuntu/workspace/chat/src/chat.js","resolved":"/home/ubuntu/workspace/chat/node_modules/@pusher/chatkit-client/dist/web/chatkit.js"}],"generated":{"js":"\"use strict\";var e=require(\"@pusher/chatkit-client\");!function(){var t=new e.TokenProvider({url:\"https://alexiszuck-chat-token.herokuapp.com/token\"});new e.ChatManager({instanceLocator:\"v1:us1:ac1e60dc-3833-4ebf-bd2d-e31aa1aa68ee\",userId:\"alexis\",tokenProvider:t}).connect().then(function(e){console.log(\"connected\",e),e.subscribeToRoom({roomId:e.rooms[0].id,hooks:{onMessage:function(e){var t=document.getElementById(\"message-list\"),o=document.createElement(\"li\");o.appendChild(document.createTextNode(\"\".concat(e.senderId,\": \").concat(e.text))),t.appendChild(o)}}}),document.getElementById(\"message-form\").addEventListener(\"submit\",function(t){t.preventDefault();var o=document.getElementById(\"message-text\");e.sendMessage({text:o.value,roomId:e.rooms[0].id}),o.value=\"\"})}).catch(function(e){console.error(\"error:\",e)})}();","map":{"mappings":[{"source":"chat.js","original":{"line":3,"column":0},"generated":{"line":1,"column":0}},{"source":"chat.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"chat.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"chat.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"chat.js","original":{"line":1,"column":0},"generated":{"line":1,"column":27}},{"source":"chat.js","original":{"line":3,"column":0},"generated":{"line":1,"column":54}},{"source":"chat.js","name":"tokenProvider","original":{"line":4,"column":6},"generated":{"line":1,"column":65}},{"source":"chat.js","name":"tokenProvider","original":{"line":4,"column":6},"generated":{"line":1,"column":69}},{"source":"chat.js","original":{"line":4,"column":22},"generated":{"line":1,"column":71}},{"source":"chat.js","name":"TokenProvider","original":{"line":4,"column":26},"generated":{"line":1,"column":75}},{"source":"chat.js","original":{"line":4,"column":22},"generated":{"line":1,"column":77}},{"source":"chat.js","original":{"line":4,"column":40},"generated":{"line":1,"column":91}},{"source":"chat.js","name":"url","original":{"line":5,"column":2},"generated":{"line":1,"column":92}},{"source":"chat.js","original":{"line":5,"column":5},"generated":{"line":1,"column":96}},{"source":"chat.js","original":{"line":8,"column":20},"generated":{"line":1,"column":150}},{"source":"chat.js","name":"ChatManager","original":{"line":8,"column":24},"generated":{"line":1,"column":154}},{"source":"chat.js","original":{"line":8,"column":20},"generated":{"line":1,"column":156}},{"source":"chat.js","original":{"line":8,"column":36},"generated":{"line":1,"column":168}},{"source":"chat.js","name":"instanceLocator","original":{"line":9,"column":2},"generated":{"line":1,"column":169}},{"source":"chat.js","original":{"line":9,"column":19},"generated":{"line":1,"column":185}},{"source":"chat.js","name":"userId","original":{"line":10,"column":2},"generated":{"line":1,"column":231}},{"source":"chat.js","original":{"line":10,"column":10},"generated":{"line":1,"column":238}},{"source":"chat.js","name":"tokenProvider","original":{"line":11,"column":2},"generated":{"line":1,"column":247}},{"source":"chat.js","name":"tokenProvider","original":{"line":11,"column":17},"generated":{"line":1,"column":261}},{"source":"chat.js","name":"connect","original":{"line":15,"column":1},"generated":{"line":1,"column":265}},{"source":"chat.js","name":"then","original":{"line":16,"column":1},"generated":{"line":1,"column":275}},{"source":"chat.js","original":{"line":16,"column":6},"generated":{"line":1,"column":280}},{"source":"chat.js","name":"currentUser","original":{"line":16,"column":6},"generated":{"line":1,"column":289}},{"source":"chat.js","name":"console","original":{"line":17,"column":2},"generated":{"line":1,"column":292}},{"source":"chat.js","name":"log","original":{"line":17,"column":10},"generated":{"line":1,"column":300}},{"source":"chat.js","original":{"line":17,"column":14},"generated":{"line":1,"column":304}},{"source":"chat.js","name":"currentUser","original":{"line":17,"column":27},"generated":{"line":1,"column":316}},{"source":"chat.js","name":"currentUser","original":{"line":18,"column":2},"generated":{"line":1,"column":319}},{"source":"chat.js","name":"subscribeToRoom","original":{"line":18,"column":14},"generated":{"line":1,"column":321}},{"source":"chat.js","original":{"line":18,"column":30},"generated":{"line":1,"column":337}},{"source":"chat.js","name":"roomId","original":{"line":19,"column":4},"generated":{"line":1,"column":338}},{"source":"chat.js","name":"currentUser","original":{"line":19,"column":12},"generated":{"line":1,"column":345}},{"source":"chat.js","name":"rooms","original":{"line":19,"column":24},"generated":{"line":1,"column":347}},{"source":"chat.js","original":{"line":19,"column":30},"generated":{"line":1,"column":353}},{"source":"chat.js","name":"id","original":{"line":19,"column":33},"generated":{"line":1,"column":356}},{"source":"chat.js","name":"hooks","original":{"line":20,"column":4},"generated":{"line":1,"column":359}},{"source":"chat.js","original":{"line":20,"column":11},"generated":{"line":1,"column":365}},{"source":"chat.js","name":"onMessage","original":{"line":21,"column":6},"generated":{"line":1,"column":366}},{"source":"chat.js","original":{"line":21,"column":17},"generated":{"line":1,"column":376}},{"source":"chat.js","name":"message","original":{"line":21,"column":17},"generated":{"line":1,"column":385}},{"source":"chat.js","name":"ul","original":{"line":22,"column":14},"generated":{"line":1,"column":388}},{"source":"chat.js","name":"ul","original":{"line":22,"column":14},"generated":{"line":1,"column":392}},{"source":"chat.js","name":"document","original":{"line":22,"column":19},"generated":{"line":1,"column":394}},{"source":"chat.js","name":"getElementById","original":{"line":22,"column":28},"generated":{"line":1,"column":403}},{"source":"chat.js","original":{"line":22,"column":43},"generated":{"line":1,"column":418}},{"source":"chat.js","name":"li","original":{"line":23,"column":14},"generated":{"line":1,"column":434}},{"source":"chat.js","name":"document","original":{"line":23,"column":19},"generated":{"line":1,"column":436}},{"source":"chat.js","name":"createElement","original":{"line":23,"column":28},"generated":{"line":1,"column":445}},{"source":"chat.js","original":{"line":23,"column":42},"generated":{"line":1,"column":459}},{"source":"chat.js","name":"li","original":{"line":24,"column":8},"generated":{"line":1,"column":465}},{"source":"chat.js","name":"appendChild","original":{"line":24,"column":11},"generated":{"line":1,"column":467}},{"source":"chat.js","name":"document","original":{"line":25,"column":10},"generated":{"line":1,"column":479}},{"source":"chat.js","name":"createTextNode","original":{"line":25,"column":19},"generated":{"line":1,"column":488}},{"source":"chat.js","name":"message","original":{"line":25,"column":37},"generated":{"line":1,"column":503}},{"source":"chat.js","name":"message","original":{"line":25,"column":37},"generated":{"line":1,"column":506}},{"source":"chat.js","name":"message","original":{"line":25,"column":37},"generated":{"line":1,"column":513}},{"source":"chat.js","name":"senderId","original":{"line":25,"column":45},"generated":{"line":1,"column":515}},{"source":"chat.js","name":"message","original":{"line":25,"column":58},"generated":{"line":1,"column":524}},{"source":"chat.js","name":"message","original":{"line":25,"column":58},"generated":{"line":1,"column":530}},{"source":"chat.js","name":"message","original":{"line":25,"column":58},"generated":{"line":1,"column":537}},{"source":"chat.js","name":"text","original":{"line":25,"column":66},"generated":{"line":1,"column":539}},{"source":"chat.js","name":"ul","original":{"line":27,"column":8},"generated":{"line":1,"column":547}},{"source":"chat.js","name":"appendChild","original":{"line":27,"column":11},"generated":{"line":1,"column":549}},{"source":"chat.js","name":"li","original":{"line":27,"column":23},"generated":{"line":1,"column":561}},{"source":"chat.js","name":"document","original":{"line":32,"column":13},"generated":{"line":1,"column":568}},{"source":"chat.js","name":"getElementById","original":{"line":32,"column":22},"generated":{"line":1,"column":577}},{"source":"chat.js","original":{"line":32,"column":37},"generated":{"line":1,"column":592}},{"source":"chat.js","name":"addEventListener","original":{"line":33,"column":5},"generated":{"line":1,"column":608}},{"source":"chat.js","original":{"line":33,"column":22},"generated":{"line":1,"column":625}},{"source":"chat.js","original":{"line":33,"column":32},"generated":{"line":1,"column":634}},{"source":"chat.js","name":"e","original":{"line":33,"column":32},"generated":{"line":1,"column":643}},{"source":"chat.js","name":"e","original":{"line":34,"column":2},"generated":{"line":1,"column":646}},{"source":"chat.js","name":"preventDefault","original":{"line":34,"column":4},"generated":{"line":1,"column":648}},{"source":"chat.js","name":"input","original":{"line":35,"column":8},"generated":{"line":1,"column":665}},{"source":"chat.js","name":"input","original":{"line":35,"column":8},"generated":{"line":1,"column":669}},{"source":"chat.js","name":"document","original":{"line":35,"column":16},"generated":{"line":1,"column":671}},{"source":"chat.js","name":"getElementById","original":{"line":35,"column":25},"generated":{"line":1,"column":680}},{"source":"chat.js","original":{"line":35,"column":40},"generated":{"line":1,"column":695}},{"source":"chat.js","name":"currentUser","original":{"line":36,"column":2},"generated":{"line":1,"column":711}},{"source":"chat.js","name":"sendMessage","original":{"line":36,"column":14},"generated":{"line":1,"column":713}},{"source":"chat.js","original":{"line":36,"column":26},"generated":{"line":1,"column":725}},{"source":"chat.js","name":"text","original":{"line":37,"column":4},"generated":{"line":1,"column":726}},{"source":"chat.js","name":"input","original":{"line":37,"column":10},"generated":{"line":1,"column":731}},{"source":"chat.js","name":"value","original":{"line":37,"column":16},"generated":{"line":1,"column":733}},{"source":"chat.js","name":"roomId","original":{"line":38,"column":4},"generated":{"line":1,"column":739}},{"source":"chat.js","name":"currentUser","original":{"line":38,"column":12},"generated":{"line":1,"column":746}},{"source":"chat.js","name":"rooms","original":{"line":38,"column":24},"generated":{"line":1,"column":748}},{"source":"chat.js","original":{"line":38,"column":30},"generated":{"line":1,"column":754}},{"source":"chat.js","name":"id","original":{"line":38,"column":33},"generated":{"line":1,"column":757}},{"source":"chat.js","name":"input","original":{"line":40,"column":2},"generated":{"line":1,"column":762}},{"source":"chat.js","name":"value","original":{"line":40,"column":8},"generated":{"line":1,"column":764}},{"source":"chat.js","original":{"line":40,"column":16},"generated":{"line":1,"column":770}},{"source":"chat.js","name":"catch","original":{"line":43,"column":1},"generated":{"line":1,"column":777}},{"source":"chat.js","original":{"line":43,"column":7},"generated":{"line":1,"column":783}},{"source":"chat.js","name":"error","original":{"line":43,"column":7},"generated":{"line":1,"column":792}},{"source":"chat.js","name":"console","original":{"line":44,"column":0},"generated":{"line":1,"column":795}},{"source":"chat.js","name":"error","original":{"line":44,"column":8},"generated":{"line":1,"column":803}},{"source":"chat.js","original":{"line":44,"column":14},"generated":{"line":1,"column":809}},{"source":"chat.js","name":"error","original":{"line":44,"column":24},"generated":{"line":1,"column":818}},{"source":"chat.js","original":{"line":3,"column":0},"generated":{"line":1,"column":823}}],"sources":{"chat.js":"import { ChatManager, TokenProvider } from '@pusher/chatkit-client';\n\n(function(){ \nconst tokenProvider = new TokenProvider({\n  url: process.env.TOKEN_ENDPOINT\n});\n\nconst chatManager = new ChatManager({\n  instanceLocator: \"v1:us1:ac1e60dc-3833-4ebf-bd2d-e31aa1aa68ee\",\n  userId: \"alexis\",\n  tokenProvider: tokenProvider\n});\n\nchatManager\n.connect()\n.then(currentUser => {\n  console.log('connected', currentUser);\n  currentUser.subscribeToRoom({\n    roomId: currentUser.rooms[0].id,\n    hooks: {\n      onMessage: message => {\n        const ul = document.getElementById(\"message-list\");\n        const li = document.createElement(\"li\");\n        li.appendChild(\n          document.createTextNode(`${message.senderId}: ${message.text}`)\n        );\n        ul.appendChild(li);\n      }\n    }\n  });\n\nconst form = document.getElementById(\"message-form\");\nform.addEventListener(\"submit\", e => {\n  e.preventDefault();\n  const input = document.getElementById(\"message-text\");\n  currentUser.sendMessage({\n    text: input.value,\n    roomId: currentUser.rooms[0].id\n  });\n  input.value = \"\";\n});\n})\n.catch(error => {\nconsole.error(\"error:\", error);\n});\n\n})();"},"lineCount":null}},"hash":"2e083474921dff82d7c1ce96524dd613","cacheData":{"env":{"TOKEN_ENDPOINT":"https://alexiszuck-chat-token.herokuapp.com/token"}}}