<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>alexis's pusher's chatkit</title>
  </head>
  <body>
    <ul id="message-list"></ul>
    <form id="message-form">
      <input type="text" id="message-text">
      <input type="submit">
    </form>

    <script src="https://unpkg.com/@pusher/chatkit/dist/web/chatkit.js"></script>
    <script>var tokenProvider = new Chatkit.TokenProvider({
  url: "https://us1.pusherplatform.io/services/chatkit_token_provider/v1/ac1e60dc-3833-4ebf-bd2d-e31aa1aa68ee/token"
});
var chatManager = new Chatkit.ChatManager({
  instanceLocator: "v1:us1:ac1e60dc-3833-4ebf-bd2d-e31aa1aa68ee",
  userId: "alexis",
  tokenProvider: tokenProvider
});
chatManager.connect().then(function (currentUser) {
  currentUser.subscribeToRoom({
    roomId: currentUser.rooms[0].id,
    hooks: {
      onMessage: function onMessage(message) {
        var ul = document.getElementById("message-list");
        var li = document.createElement("li");
        li.appendChild(document.createTextNode("".concat(message.senderId, ": ").concat(message.text)));
        ul.appendChild(li);
      }
    }
  });
  var form = document.getElementById("message-form");
  form.addEventListener("submit", function (e) {
    e.preventDefault();
    var input = document.getElementById("message-text");
    currentUser.sendMessage({
      text: input.value,
      roomId: currentUser.rooms[0].id
    });
    input.value = "";
  });
}).catch(function (error) {
  console.error("error:", error);
});</script>
  </body>
</html>